{"version":3,"sources":["components/common/FormsControls/FormsControls.module.scss","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","assets/images/user.png","components/common/UserPhoto/UserPhoto.jsx","components/Profile/Posts/NewPost/NewPostForm.jsx","components/Profile/Posts/NewPost/NewPost.jsx","components/Profile/Posts/NewPost/NewPostContainer.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Posts/PostsContainer.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Textarea","input","meta","props","showError","touched","error","className","styles","formControl","Input","required","value","maxLenghtCreator","maxLenght","length","UserPhoto","photo","alt","src","userPhoto","maxLenght10","NewPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","name","placeholder","validate","NewPost","formData","addPost","newPost","NewPostContainer","connect","state","newPostText","profilePage","dispatch","addPostActionCreator","Post","message","Posts","React","memo","postsElements","posts","map","el","id","PostsContainer","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","onBlur","updateStatus","type","autoFocus","ProfileInfo","profile","photos","large","Preloader","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/4.0458a305.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oc0t\",\"error\":\"FormsControls_error__3zufy\",\"formSummaryError\":\"FormsControls_formSummaryError__CiuWy\"};","import React from 'react';\r\nimport styles from './FormsControls.module.scss';\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const showError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (showError ? styles.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            <div>\r\n                {showError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const showError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (showError ? styles.error : '')}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            <div>\r\n                {showError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}","export const composeValidators = (...validators) => (value) => {\r\n  return validators.reduce((error, validator) => error || validator(value), undefined);\r\n}\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLenghtCreator = (maxLenght) => (value) => {\r\n    if (value && value.length > maxLenght) return `Max length is ${maxLenght} symbols`;\r\n}","export default __webpack_public_path__ + \"static/media/user.e8ac51ee.png\";","import userPhoto from \"../../../assets/images/user.png\";\r\n\r\nlet UserPhoto = ({photo, alt}) => {\r\n    return (\r\n        <img src={(photo != null) ? photo : userPhoto} alt={alt} />\r\n    )\r\n}\r\n\r\nexport default UserPhoto;","import { reduxForm, Field } from \"redux-form\";\r\nimport { Textarea } from \"../../../common/FormsControls/FormsControls\";\r\nimport { required, maxLenghtCreator } from \"../../../../utils/validators/validators\";\r\n\r\nconst maxLenght10 = maxLenghtCreator(10);\r\n\r\nconst NewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name={'newPost'} placeholder={'Enter post Text'} validate={[required, maxLenght10]} />\r\n            </div>\r\n\r\n            <div>\r\n                <button className=\"btn new-post__btn\">Отправить</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst NewPostReduxForm = reduxForm({\r\n    form: 'profileNewPost'\r\n})(NewPostForm);\r\n\r\nexport default NewPostReduxForm;","\r\nimport React from 'react';\r\nimport NewPostReduxForm from './NewPostForm';\r\n\r\nconst NewPost = (props) => {\r\n  const addNewPost = (formData) => {\r\n    props.addPost(formData.newPost);\r\n  }\r\n\r\n  return (\r\n    <div className=\"new-post\">\r\n      <NewPostReduxForm onSubmit={addNewPost} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewPost;\r\n","import NewPost from './NewPost.jsx';\r\nimport {addPostActionCreator} from '../../../../redux/profile-reducer.js';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPost) => {\r\n      dispatch(addPostActionCreator(newPost));\r\n    }\r\n  }\r\n}\r\n\r\nconst NewPostContainer = connect(mapStateToProps, mapDispatchToProps)(NewPost);\r\n\r\nexport default NewPostContainer;\r\n","const Post = (props) => {\r\n  return (\r\n    <div className=\"post\">\r\n      {props.message}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport NewPostContainer from './NewPost/NewPostContainer.jsx';\r\nimport Post from './Post/Post.jsx';\r\n\r\nconst Posts = React.memo((props) => {\r\n  let postsElements = props.posts.map((el) => <Post key={el.id} message={el.message} />);\r\n  return (\r\n    <div className=\"posts\">\r\n      <div className=\"posts__new-post\">\r\n        <NewPostContainer />\r\n      </div>\r\n      <div className=\"posts__posts\">\r\n        {postsElements}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Posts;\r\n","\r\nimport Posts from './Posts.jsx';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts\r\n  }\r\n}\r\n\r\nconst PostsContainer = connect(mapStateToProps)(Posts);\r\n\r\nexport default PostsContainer;\r\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useEffect, useState } from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        if (status !== props.status) {\r\n            props.updateStatus(status);\r\n        }\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"profile__status\">\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || '-----'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} onBlur={deactivateEditMode} type=\"text\" autoFocus={true} value={status} />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import Preloader from \"../../common/Preloader/Preloader\";\r\nimport UserPhoto from \"../../common/UserPhoto/UserPhoto.jsx\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n  if (!profile) {\r\n    return <Preloader />\r\n  } else {\r\n    return (\r\n      <div className=\"profile-info\">\r\n        <div className=\"profile__avatar\">\r\n          <UserPhoto photo={profile.photos.large} />\r\n        </div>\r\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n        <div className=\"profile__description\">description</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import PostsContainer from './Posts/PostsContainer.jsx';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo.jsx';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className=\"profile\">\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n      <PostsContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Profile from './Profile.jsx';\r\nimport { getUserProfile, getStatus, updateStatus } from './../../redux/profile-reducer.js';\r\nimport { withRouter } from 'react-router';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push('/login/');\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile {...this.props} updateStatus={this.props.updateStatus} />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n  withRouter,\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}