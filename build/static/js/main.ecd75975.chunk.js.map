{"version":3,"sources":["api/api.js","reportWebVitals.js","redux/app-reducer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Footer/Footer.jsx","components/NavBar/NavBar.jsx","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.jsx","App.jsx","index.js","redux/auth-reducer.js","assets/images/preloader.svg","components/common/Preloader/Preloader.jsx","redux/profile-reducer.js","redux/dialogs-reducer.js","utils/objects-helpers.js","redux/users-reducer.js"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currnetPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","INITIALIZED_SUCCESS","initialState","initialized","appReducer","state","action","type","Header","props","className","isAuth","onClick","to","HeaderContainer","this","React","Component","connect","auth","Footer","NavBar","sidebarReducer","redusers","combineReducers","app","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","sidebar","authReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","Preloader","DialogsContainer","lazy","ProfileContainer","UsersContainer","LoginContainer","App","initializeApp","path","AppContainer","dispatch","promise","getAuthUserData","Promise","all","SocialApp","StrictMode","ReactDOM","render","document","getElementById","SET_USER_DATA","setUserData","a","resultCode","id","message","messages","length","stopSubmit","_error","width","height","src","preloader","alt","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","profile","posts","addPostActionCreator","newPost","setStatus","getUserProfile","filter","ADD_MESSAGE","dialogs","name","addMessageActionCreator","newMessage","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRNET_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed"],"mappings":"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","file":"static/js/main.ecd75975.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '4ce4c13d-3edb-4132-88d7-829e1edef69e'\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currnetPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currnetPage}&count=${pageSize}`).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status});\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { getAuthUserData } from \"./auth-reducer.js\";\r\n\r\nconst INITIALIZED_SUCCESS = 'social/app/INITIALIZED-SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n\treturn {type: INITIALIZED_SUCCESS}\r\n}\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\nexport default appReducer;","import {NavLink} from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className=\"header\">\r\n        <div className=\"logo\">Social React</div>\r\n        <div className=\"login-block\">\r\n          {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Logout</button></div> : <NavLink to=\"/login/\">Login</NavLink>}\r\n        </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { logout } from \"../../redux/auth-reducer.js\";\r\nimport Header from './Header.jsx';\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return (\r\n      <Header {...this.props} />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n\r\n","const Footer = () => {\r\n    return (\r\n      <footer className=\"footer\">\r\n          footer\r\n      </footer>\r\n    );\r\n  }\r\n  \r\n  export default Footer;\r\n  ","import {NavLink} from 'react-router-dom';\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <nav className=\"navbar\">\r\n        <ul>\r\n          <li>\r\n            <NavLink to=\"/profile/\">Профиль</NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/dialogs/\">Сообщения</NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/users/\">Пользователи</NavLink>\r\n          </li>\r\n        </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    \r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport appReducer from './app-reducer.js';\r\nimport profileReducer from './profile-reducer.js';\r\nimport dialogsReducer from './dialogs-reducer.js';\r\nimport usersReducer from './users-reducer.js';\r\nimport sidebarReducer from './sidebar-reducer.js';\r\nimport authReducer from './auth-reducer.js';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nlet redusers = combineReducers({\r\n    app: appReducer,\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    sidebar: sidebarReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(redusers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader.jsx';\r\n\r\nexport const withSuspense = (Component) => {\r\n    const SuspenseComponent = (props) => {\r\n        return (\r\n            <Suspense fallback={<Preloader />}>\r\n                <Component {...props} />\r\n            </Suspense>\r\n        );\r\n    }\r\n    return SuspenseComponent;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { initializeApp } from \"./redux/app-reducer.js\";\r\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\r\nimport HeaderContainer from './components/Header/HeaderContainer.jsx';\r\nimport Footer from './components/Footer/Footer.jsx';\r\nimport NavBar from './components/NavBar/NavBar.jsx';\r\nimport './App.scss';\r\nimport Preloader from './components/common/Preloader/Preloader.jsx';\r\nimport store from './redux/redux-store.js';\r\nimport {Provider} from 'react-redux';\r\nimport { withSuspense } from './hoc/withSuspense.jsx';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer.jsx'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer.jsx'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer.jsx'));\r\nconst LoginContainer = React.lazy(() => import('./components/Login/LoginContainer.jsx'));\r\n\r\nclass App extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeApp();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (!this.props.initialized) {\r\n\t\t\treturn <Preloader />\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<BrowserRouter>\r\n\t\t\t\t<div className=\"app\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<HeaderContainer />\r\n\t\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t\t<NavBar />\r\n\t\t\t\t\t\t\t<div className=\"main-content\">\r\n\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/dialogs/\">\r\n\t\t\t\t\t\t\t\t\t\t{withSuspense(DialogsContainer)}\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/profile/:userId?\">\r\n\t\t\t\t\t\t\t\t\t\t{withSuspense(ProfileContainer)}\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/users/\">\r\n\t\t\t\t\t\t\t\t\t\t{withSuspense(UsersContainer)}\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/login/\">\r\n\t\t\t\t\t\t\t\t\t\t{withSuspense(LoginContainer)}\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</BrowserRouter>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tinitialized: state.app.initialized\r\n});\r\n\r\nconst AppContainer = connect(mapStateToProps, {initializeApp})(App);\r\n\r\nconst SocialApp = (props) => {\r\n\treturn (\r\n\t\t<React.StrictMode>\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<AppContainer />\r\n\t\t\t</Provider>\r\n\t\t</React.StrictMode>\r\n\t);\r\n}\r\n\r\nexport default SocialApp;","import reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport SocialApp from './App.jsx';\n\nReactDOM.render(<SocialApp />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { stopSubmit } from 'redux-form';\r\nimport {authAPI} from '../api/api.js';\r\n\r\nconst SET_USER_DATA = 'social/auth/SET-USER-DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserData = (userId, email, login, isAuth) => {\r\n\treturn {type: SET_USER_DATA, data: {userId, email, login, isAuth}}\r\n}\r\n\r\nexport const getAuthUserData = () =>  async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = (response.data.messages.length > 0 ? response.data.message : 'Some Error')\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","export default __webpack_public_path__ + \"static/media/preloader.c81112e3.svg\";","import preloader from './../../../assets/images/preloader.svg';\r\n\r\nlet Preloader = () => {\r\n    return <img width=\"38\" height=\"38\" src={preloader} alt=\"\" />\r\n}\r\n\r\nexport default Preloader;","import {profileAPI} from '../api/api.js';\r\n\r\nconst ADD_POST = 'social/profile/ADD-POST';\r\nconst DELETE_POST = 'social/profile/DELETE-POST';\r\nconst SET_USER_PROFILE = 'social/profile/SET-USER-PROFILE';\r\nconst SET_STATUS = 'social/profile/SET-STATUS';\r\n\r\nlet initialState = {\r\n    profile: null,\r\n    posts: [\r\n        {id: 1, message: 'Post 1'},\r\n        {id: 2, message: 'Post 2'}\r\n    ],\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 3, message: action.newPost}],\r\n            };\r\n\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts.filter(post => post.id !== action.post)],\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (post) => {\r\n\treturn {type: ADD_POST, newPost: post}\r\n}\r\n\r\nexport const deletePostActionCreator = (post) => {\r\n\treturn {type: DELETE_POST, post: post}\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n\treturn {type: SET_USER_PROFILE, profile}\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n    return {type: SET_STATUS, status}\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    if (!userId) return;\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    if (!userId) return;\r\n\tlet response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const ADD_MESSAGE = 'social/dialogs/ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dialog 1'},\r\n        {id: 2, name: 'Dialog 2'},\r\n        {id: 3, name: 'Dialog 3'},\r\n        {id: 4, name: 'Dialog 4'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Message 1'},\r\n        {id: 2, message: 'Message 2'},\r\n        {id: 3, message: 'Message 3'}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: action.newMessage}],\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (message) => {\r\n\treturn {type: ADD_MESSAGE, newMessage: message}\r\n}\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {\r\n                ...item,\r\n                ...newObjProps\r\n            }\r\n        }\r\n        return item;\r\n    });\r\n}","import {usersAPI} from '../api/api.js';\r\nimport {updateObjectInArray} from '../utils/objects-helpers.js';\r\n\r\nconst FOLLOW = 'social/users/FOLLOW';\r\nconst UNFOLLOW = 'social/users/UNFOLLOW';\r\nconst SET_USERS = 'social/users/SET-USERS';\r\nconst SET_CURRNET_PAGE = 'social/users/SET-CURRNET-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'social/users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'social/users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'social/users/TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n\t\t\t};\r\n\t\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n\t\t\t};\r\n\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {...state, users: action.users}\r\n\r\n\t\tcase SET_CURRNET_PAGE:\r\n\t\t\treturn {...state, currentPage: action.currentPage}\r\n\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn {...state, totalUsersCount: action.totalCount}\r\n\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {...state, isFetching: action.isFetching}\r\n\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {...state, followingInProgress: action.isFetching ? [...state.followingInProgress, action.userId] : state.followingInProgress.filter(id => id !== action.userId)}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => {\r\n\treturn {type: FOLLOW, userId}\r\n}\r\n\r\nexport const unfollowSuccess = (userId) => {\r\n\treturn {type: UNFOLLOW, userId}\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n\treturn {type: SET_USERS, users}\r\n}\r\n\r\nexport const setCurrentPage = (currentPage) => {\r\n\treturn {type: SET_CURRNET_PAGE, currentPage}\r\n}\r\n\r\nexport const setTotalUsersCount = (totalCount) => {\r\n\treturn {type: SET_TOTAL_USERS_COUNT, totalCount}\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching) => {\r\n\treturn {type: TOGGLE_IS_FETCHING, isFetching}\r\n}\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n\treturn {type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId}\r\n}\r\n\r\nexport const getUsers = (currnetPage, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleIsFetching(true));\r\n\t\tlet response = await usersAPI.getUsers(currnetPage, pageSize);\r\n\t\tdispatch(toggleIsFetching(false));\r\n\t\tdispatch(setUsers(response.items));\r\n\t\tdispatch(setTotalUsersCount(response.totalCount));\r\n\t}\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\tlet response = await apiMethod(userId);\r\n\tif(response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.follow.bind(userId), followSuccess);\r\n\t}\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(userId), unfollowSuccess);\r\n\t}\r\n}\r\n\r\nexport default usersReducer;"],"sourceRoot":""}